!function(e){function i(i,t){if(0===i.indexOf("#"))e(i).clone(!0).appendTo(s.empty()).show();else{if(t){var a=e("<iframe />").attr({src:i,frameborder:0,hspace:0}).css({width:"100%",height:"100%"});s.html(a)}else s.load(i);s.data("localEl",!1)}}function t(e,i){var t=s.outerWidth(!0),a={},l={};if(!s.is(":visible")&&!n){switch(n=!0,e){case"left":s.css({left:"auto",right:"-"+t+"px"}),a["margin-left"]="-="+t,l.right="+="+t;break;default:s.css({left:"-"+t+"px",right:"auto"}),a["margin-left"]="+="+t,l.left="+="+t}d.animate(a,i),s.show().animate(l,i,function(){n=!1})}}var a,d=e("body"),s=e("#pageslide"),n=!1;0==s.length&&(s=e("<div />").attr("id","pageslide").css("display","none").appendTo(e("body"))),e.fn.pageslide=function(i){var t=this;t.click(function(t){var d=e(this),n=e.extend({href:d.attr("href")},i);t.preventDefault(),t.stopPropagation(),s.is(":visible")&&d[0]==a?e.pageslide.close():(e.pageslide(n),a=d[0]),e("html, body").css("overflow","hidden"),e("#pageslide").css("overflow","auto")})},e.fn.pageslide.defaults={speed:200,direction:"right",modal:!1,iframe:!0,href:null},e.pageslide=function(a){var d=e.extend({},e.fn.pageslide.defaults,a);s.is(":visible")&&s.data("direction")!=d.direction?e.pageslide.close(function(){i(d.href,d.iframe),t(d.direction,d.speed)}):(i(d.href,d.iframe),s.is(":hidden")&&t(d.direction,d.speed)),s.data(d)},e.pageslide.close=function(i){var t=e("#pageslide"),a=t.outerWidth(!0)-17,s=t.data("speed"),l={},o={};if(!t.is(":hidden")&&!n){switch(n=!0,t.data("direction")){case"left":l["margin-left"]="+="+a,o.right="-="+a;break;default:l["margin-left"]="-="+a,o.left="-="+a}t.animate(o,s),d.animate(l,s,function(){t.hide(),n=!1,"undefined"!=typeof i&&i()}),e("html, body").css("overflow","auto")}},s.click(function(e){e.stopPropagation()}),e(document).bind("click keyup",function(i){("keyup"!=i.type||27==i.keyCode)&&s.is(":visible")&&!s.data("modal")&&e.pageslide.close()})}(jQuery);